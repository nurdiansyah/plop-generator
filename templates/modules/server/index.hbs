// prettier-ignore
import {
  /* GEN-ADD: import-services */
  create{{ pascalCase model }}ServiceServer
} from "./services/index.js";

// prettier-ignore
import {
  /* GEN-ADD: import-mongo */
  create{{ pascalCase model }}Repo
} from "./db/mongo/index.js";

// prettier-ignore
import {
  /* GEN-ADD: import-fastify */
  create{{ pascalCase model }}Route
} from "./fastify/index.js";

import { FastifyInstance } from "fastify";
import { {{ pascalCase projectName }}ServerApiOptions } from "./fastify/types.js";
import { {{ pascalCase projectName }}ServerModuleConfig } from "./types.js";

export const create{{ pascalCase projectName }}ServiceServer = async (config: {{ pascalCase projectName }}ServerModuleConfig) => {
  /* GEN-ADD: create-service */
  await create{{ pascalCase model }}ServiceServer(config);
};

export const create{{ pascalCase projectName }}MongoRepo = () => {
  /* GEN-ADD: create-mongo */
  create{{ pascalCase model }}Repo();
};

export const create{{ pascalCase projectName }}FastifyRoute = async (instance: FastifyInstance<any>, opts: GftServerApiOptions) => {
  /* GEN-ADD: create-fastify */
  create{{ pascalCase model }}Route(instance, opts);
};
